@import 'tailwindcss';

@variant dark (.dark &);

:root {
  /* Light mode colors */
  --background: #ffffff;
  --foreground: #2e2e2e;
  --hover: #f5f5f5;
  --border: #e5e5e5;
  --card: #ffffff;
  --card-foreground: #2e2e2e;
  --muted: #f3f4f6;
  --muted-foreground: #6b7280;

  /* Theme Colors */
  --primary: #2e2e2e;
  --primary-foreground: #ffffff;
  --secondary: #64748b;
  --secondary-foreground: #ffffff;

  /* Destructive */
  --destructive: #d42422;
  --destructive-foreground: #ffffff;
}

.dark {
  /* Dark mode colors */
  --background: #151515;
  --hover: #1c1c1c;
  --foreground: #e5e5e5;
  --card: #1f2937;
  --card-foreground: #e5e5e5;
  --border: #383838;
  --muted: #374151;
  --muted-foreground: #9ca3af;

  --primary: #e5e5e5;
  --primary-foreground: #171717;
  --secondary: #9ca3af;
  --secondary-foreground: #171717;

  /* Destructive */
  --destructive: #934645;
  --destructive-foreground: #fef2f2;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
}

@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark) {
    --background: #111827;
    --foreground: #f3f4f6;
    --border: #374151;
    --card: #1f2937;
    --card-foreground: #f3f4f6;
    --muted: #374151;
    --muted-foreground: #9ca3af;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ==================== Component Layer ==================== */

@layer components {
  .calendar-container {
    @apply relative flex flex-col bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700;
  }

  .calendar-header {
    @apply flex justify-between items-center p-2 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700;
  }

  .calendar-grid {
    @apply flex-grow relative overflow-y-auto;
  }

  .calendar-weekdays {
    @apply grid grid-cols-7 border-b border-gray-200 dark:border-gray-700;
  }

  .calendar-day-label {
    @apply flex-1 text-center text-gray-500 dark:text-gray-400 text-sm p-1;
  }

  .calendar-time-column {
    @apply w-20 flex-shrink-0 border-gray-200 dark:border-gray-700;
  }

  .calendar-time-slot {
    @apply relative h-[4.5rem] flex;
  }

  .calendar-time-row {
    @apply h-[4.5rem] border-t first:border-none border-gray-200 dark:border-gray-700 flex;
  }

  .calendar-time-cell {
    @apply flex-1 relative border-r border-gray-200 dark:border-gray-700;
  }

  .calendar-all-day-row {
    @apply flex items-center border-b border-gray-200 dark:border-gray-700;
  }

  .calendar-nav-button {
    @apply p-1 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors;
  }

  .calendar-today-button {
    @apply px-4 py-1 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors;
  }

  .calendar-event-base {
    @apply select-none pointer-events-auto cursor-pointer transition-all;
  }

  .mini-calendar-grid {
    @apply grid grid-cols-7 gap-1 text-xs justify-items-center;
  }

  .mini-calendar-day {
    @apply text-center py-1 rounded text-xs h-6 w-6 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors;
  }

  .calendar-checkbox {
    @apply mr-2 h-4 w-4 inline-flex items-center justify-center border border-gray-300 dark:border-gray-600 rounded-sm cursor-pointer;
    appearance: none;
    background-color: transparent;
    position: relative;
  }

  .calendar-checkbox:focus-visible {
    outline: 2px solid var(--checkbox-color, #3b82f6);
    outline-offset: 2px;
  }

  .calendar-checkbox:checked {
    background-color: var(--checkbox-color, #3b82f6);
    border-color: var(--checkbox-color, #3b82f6);
  }

  .calendar-checkbox:checked::after {
    content: '';
    display: block;
    width: 0.25rem;
    height: 0.5rem;
    border: solid #fff;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }
}

/* ==================== Utilities ==================== */

@keyframes fadeOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

/* Hide scrollbar but allow scrolling */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
