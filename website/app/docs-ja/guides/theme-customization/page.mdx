# テーマカスタマイズガイド

DayFlow カレンダーの見た目は、カレンダータイプの色・CSS 変数・Tailwind のダークモードなどを組み合わせて細かく調整できます。このガイドでは実務でよく使うテクニックをまとめました。

## 目次

- [カスタムカレンダータイプカラー](#カスタムカレンダータイプカラー)
- [CSS 変数のオーバーライド](#css-変数のオーバーライド)
- [Tailwind との連携](#tailwind-との連携)
- [カスタムテーマの組み立て](#カスタムテーマの組み立て)

## カスタムカレンダータイプカラー

### 基本設定

1 つの `calendarId` ごとにライト/ダークの配色を定義できます。ブランドカラーをベースに、背景は薄く、ラインは高彩度、テキストはコントラスト高めにするのがコツです。

```tsx copy
const calendar = useCalendarApp({
  calendars: [
    {
      id: 'personal',
      name: '個人',
      colors: {
        lineColor: '#0891b2',
        backgroundColor: '#cffafe',
        textColor: '#164e63',
      },
      darkColors: {
        lineColor: '#22d3ee',
        backgroundColor: '#164e63',
        textColor: '#cffafe',
      },
    },
  ],
});
```

### 各色の役割

- `lineColor`：イベントカード左側のアクセントやボーダーに使用
- `backgroundColor`：イベント本体の背景
- `textColor`：タイトルや時刻テキスト

### ブランドカラーを当てはめる

```tsx copy
const brandPalette = {
  lineColor: '#6366f1',
  backgroundColor: '#e0e7ff',
  textColor: '#312e81',
};

const brandDarkPalette = {
  lineColor: '#a5b4fc',
  backgroundColor: '#312e81',
  textColor: '#e0e7ff',
};
```

### ヘルパーで色生成

```ts copy
interface ColorSet {
  lineColor: string;
  backgroundColor: string;
  textColor: string;
}

export const buildLightColors = (base: string): ColorSet => ({
  lineColor: base,
  backgroundColor: lighten(base, 0.88), // chroma-js や tinycolor の lighten を想定
  textColor: darken(base, 0.45),
});

export const buildDarkColors = (base: string): ColorSet => ({
  lineColor: lighten(base, 0.25),
  backgroundColor: darken(base, 0.55),
  textColor: lighten(base, 0.8),
});
```

## CSS 変数のオーバーライド

DayFlow のコンポーネントは CSS カスタムプロパティで配色を管理しています。グローバル CSS で上書きすると、細かなトークンまで統一できます。

```css copy
:root {
  --dayflow-bg-primary: #ffffff;
  --dayflow-bg-secondary: #f9fafb;
  --dayflow-text-primary: #111827;
  --dayflow-border: #e5e7eb;
}

.dark {
  --dayflow-bg-primary: #111827;
  --dayflow-bg-secondary: #1f2937;
  --dayflow-text-primary: #f9fafb;
  --dayflow-border: #374151;
}

.calendar-container {
  --calendar-border: var(--dayflow-border);
}
.calendar-event {
  --event-hover-opacity: 0.9;
  --event-shadow: rgba(0, 0, 0, 0.1);
}
.dark .calendar-event {
  --event-shadow: rgba(0, 0, 0, 0.3);
}
```

## Tailwind との連携

Tailwind を使っている場合は `darkMode: 'class'` を設定し、DayFlow のパッケージを `content` に含めるとツリーシェイクの対象になります。

```js copy
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  content: [
    './src/**/*.{js,ts,jsx,tsx}',
    './node_modules/@dayflow/**/*.{js,ts,jsx,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        brand: {
          100: '#e0f2fe',
          500: '#0ea5e9',
          900: '#0c4a6e',
        },
      },
    },
  },
};
```

Tailwind クラスで DayFlow のルートを包むと、簡単に独自スタイルを付けられます。

```tsx copy
function ThemedCalendar() {
  return (
    <div className="rounded-3xl bg-gray-50 p-6 dark:bg-gray-950">
      <DayFlowCalendar calendar={calendar} />
    </div>
  );
}
```

## カスタムテーマの組み立て

`theme` オブジェクトにモードやトークンをまとめて渡すと、アプリ全体で再利用しやすくなります。

```tsx copy
export const oceanTheme = {
  mode: 'auto' as const,
  calendars: [
    {
      id: 'deep-ocean',
      name: 'Deep Ocean',
      colors: {
        lineColor: '#0284c7',
        backgroundColor: '#e0f2fe',
        textColor: '#0f172a',
      },
      darkColors: {
        lineColor: '#38bdf8',
        backgroundColor: '#0f172a',
        textColor: '#e0f2fe',
      },
    },
  ],
};

const calendar = useCalendarApp({ theme: oceanTheme });
```

以上を踏まえてテーマを整えると、DayFlow を自社ブランドに自然に溶け込ませることができます。
