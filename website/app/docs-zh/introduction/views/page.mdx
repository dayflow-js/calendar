# 日历视图

Day Flow 支持四种不同的视图类型，每种类型都针对不同的用例和用户需求进行了优化。您可以以编程方式切换视图，或者提供 UI 供用户切换视图。

## 可用视图

### 日视图

日视图专注于单个日期，并带有详细的时间槽，非常适合管理每日日程。

#### 配置

| 属性                  | 类型             | 默认值      | 描述                               |
| :-------------------- | :--------------- | :---------- | :--------------------------------- |
| `showAllDay`          | `boolean`        | `true`      | 是否显示全天事件行。               |
| `scrollToCurrentTime` | `boolean`        | `true`      | 初始加载时是否自动滚动到当前时间。 |
| `timeFormat`          | `'12h' \| '24h'` | `'24h'`     | 时间轴的时间格式。                 |
| `secondaryTimeZone`   | `string`         | `undefined` | 要显示的辅助时区。                 |

```tsx copy {10}
import {
  useCalendarApp,
  DayFlowCalendar,
  createDayView,
  ViewType,
} from '@dayflow/react'; // or '@dayflow/vue', '@dayflow/svelte', '@dayflow/angular'

function MyCalendar() {
  const calendar = useCalendarApp({
    views: [createDayView()],
    defaultView: ViewType.DAY,
    initialDate: new Date(),
  });

  return <DayFlowCalendar calendar={calendar} />;
}
```

### 周视图

周视图显示一个带有时间槽的 7 天网格，显示具有准确开始和结束时间的事件。

#### 配置

| 属性                  | 类型             | 默认值      | 描述                                     |
| :-------------------- | :--------------- | :---------- | :--------------------------------------- |
| `showWeekends`        | `boolean`        | `true`      | 是否显示周六和周日。                     |
| `showAllDay`          | `boolean`        | `true`      | 是否显示全天事件行。                     |
| `startOfWeek`         | `number`         | `1`         | 一周的开始日期（0 为周日，1 为周一等）。 |
| `scrollToCurrentTime` | `boolean`        | `true`      | 初始加载时是否自动滚动到当前时间。       |
| `timeFormat`          | `'12h' \| '24h'` | `'24h'`     | 时间轴的时间格式。                       |
| `secondaryTimeZone`   | `string`         | `undefined` | 要显示的辅助时区。                       |

```tsx copy {10}
import {
  useCalendarApp,
  DayFlowCalendar,
  createWeekView,
  ViewType,
} from '@dayflow/react'; // or '@dayflow/vue', '@dayflow/svelte', '@dayflow/angular'

function MyCalendar() {
  const calendar = useCalendarApp({
    views: [createWeekView()],
    defaultView: ViewType.WEEK,
    initialDate: new Date(),
  });

  return <DayFlowCalendar calendar={calendar} />;
}
```

### 月视图

月视图显示传统的日历网格，显示一个月中的所有日期。

#### 配置

| 属性                 | 类型      | 默认值  | 描述                                     |
| :------------------- | :-------- | :------ | :--------------------------------------- |
| `showWeekNumbers`    | `boolean` | `false` | 是否显示周数。                           |
| `showMonthIndicator` | `boolean` | `true`  | 是否在滚动时显示月份指示标题。           |
| `startOfWeek`        | `number`  | `1`     | 一周的开始日期（0 为周日，1 为周一等）。 |

```tsx copy {10}
import {
  useCalendarApp,
  DayFlowCalendar,
  createMonthView,
  ViewType,
} from '@dayflow/react'; // or '@dayflow/vue', '@dayflow/svelte', '@dayflow/angular'

function MyCalendar() {
  const calendar = useCalendarApp({
    views: [createMonthView()],
    defaultView: ViewType.MONTH,
    initialDate: new Date(),
  });

  return <DayFlowCalendar calendar={calendar} />;
}
```

### 年视图

年视图使用连续网格布局提供全面的年度概览。与仅显示 12 个小日历的传统年视图不同，DayFlow 的年视图渲染一个统一的网格，您可以直观地看到跨越数天、数周甚至数月的长周期事件。

#### 配置

| 属性                        | 类型                            | 默认值          | 描述                                                                 |
| :-------------------------- | :------------------------------ | :-------------- | :------------------------------------------------------------------- |
| `mode`                      | `'year-canvas' \| 'fixed-week'` | `'year-canvas'` | 年视图的显示模式。                                                   |
| `startOfWeek`               | `number`                        | `1`             | 设置周起始日（0 为周日，1 为周一等）。仅在 `fixed-week` 模式下使用。 |
| `showTimedEventsInYearView` | `boolean`                       | `false`         | 是否在年视图中显示定时事件（圆点/指示器）。                          |

```tsx copy {10-14}
import {
  useCalendarApp,
  DayFlowCalendar,
  createYearView,
  ViewType,
} from '@dayflow/react'; // or '@dayflow/vue', '@dayflow/svelte', '@dayflow/angular'

function MyCalendar() {
  const calendar = useCalendarApp({
    views: [
      createYearView({
        showTimedEventsInYearView: true,
      }),
    ],
    defaultView: ViewType.YEAR,
    initialDate: new Date(),
  });

  return <DayFlowCalendar calendar={calendar} />;
}
```

## 使用多个视图

您可以注册多个视图并允许用户在它们之间切换：

```tsx copy {13-18}
import {
  useCalendarApp,
  DayFlowCalendar,
  createDayView,
  createWeekView,
  createMonthView,
  createYearView,
  ViewType,
} from '@dayflow/react'; // or '@dayflow/vue', '@dayflow/svelte', '@dayflow/angular'

function MultiViewCalendar() {
  const calendar = useCalendarApp({
    views: [
      createDayView(),
      createWeekView(),
      createMonthView(),
      createYearView(),
    ],
    defaultView: ViewType.MONTH,
    initialDate: new Date(),
    callbacks: {
      onViewChange: view => {
        console.log('View changed to:', view);
      },
    },
  });

  return (
    <div className='h-screen'>
      <DayFlowCalendar calendar={calendar} />
    </div>
  );
}
```

## 编程控制视图

### 切换视图

```tsx copy
// 切换到特定视图
calendar.changeView(ViewType.WEEK);

// 获取当前视图
const currentView = calendar.app.getCurrentView();
console.log(currentView.type); // 'week'
```

### 导航

所有视图都支持相同的导航方法：

```tsx copy
// 跳转到今天
calendar.goToToday();

// 跳转到上一个周期（取决于当前视图，可能是日/周/月/年）
calendar.goToPrevious();

// 跳转到下一个周期
calendar.goToNext();

// 选择特定日期
calendar.selectDate(new Date(2024, 9, 15));
```

## ViewType 枚举

```tsx copy
enum ViewType {
  DAY = 'day',
  WEEK = 'week',
  MONTH = 'month',
  YEAR = 'year',
}
```
